<!doctype html><html lang=tr><head><title>HTTP ve MassTransit ile .NET Mikroservislerinde CorrelationId Takibi :: Berk Selvi | Software Developer</title>
<meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content=".NET microservice mimarisinde, HTTP ve RabbitMQ istekleriyle CorrelationId kullanarak daÄŸÄ±tÄ±k izlenebilirliÄŸi arttÄ±rdÄ±ÄŸÄ±mÄ±z bu yazÄ±da, CorrelationId deÄŸerinin farklÄ± servisler arasÄ±nda nasÄ±l gezdirileceÄŸini, Middleware ve Filter yapÄ±larÄ±yla gelen ve giden isteklerde header deÄŸerleri Ã¼zerinde nasÄ±l manipÃ¼lasyon yapÄ±lacaÄŸÄ±nÄ± ve Serilog'un LogContext yapÄ±sÄ±yla contextlerin loglanmasÄ±nÄ± keÅŸfedeceÄŸiz."><meta name=keywords content="microservices,correlationId,distributed tracing,middleware,AsyncLocal"><meta name=robots content="noodp"><link rel=canonical href=https://berkselvi.dev/tr/posts/correlationid-tracing-net-microservices-with-http-and-rabbitmq/><link rel=stylesheet href=https://berkselvi.dev/assets/style.css><link rel=stylesheet href=https://berkselvi.dev/assets/green.css><link rel=canonical href=https://berkselvi.dev/tr/posts/correlationid-tracing-net-microservices-with-http-and-rabbitmq/><link rel=apple-touch-icon sizes=57x57 href=/icon/apple-icon-57x57.png><link rel=apple-touch-icon sizes=60x60 href=/icon/apple-icon-60x60.png><link rel=apple-touch-icon sizes=72x72 href=/icon/apple-icon-72x72.png><link rel=apple-touch-icon sizes=76x76 href=/icon/apple-icon-76x76.png><link rel=apple-touch-icon sizes=114x114 href=/icon/apple-icon-114x114.png><link rel=apple-touch-icon sizes=120x120 href=/icon/apple-icon-120x120.png><link rel=apple-touch-icon sizes=144x144 href=/icon/apple-icon-144x144.png><link rel=apple-touch-icon sizes=152x152 href=/icon/apple-icon-152x152.png><link rel=apple-touch-icon sizes=180x180 href=/icon/apple-icon-180x180.png><link rel=icon type=image/png sizes=192x192 href=/icon/android-icon-192x192.png><link rel=icon type=image/png sizes=32x32 href=/icon/favicon-32x32.png><link rel=icon type=image/png sizes=96x96 href=/icon/favicon-96x96.png><link rel=icon type=image/png sizes=16x16 href=/icon/favicon-16x16.png><link rel=manifest href=/icon/manifest.json><meta name=msapplication-TileColor content="#1D1E28"><meta name=msapplication-TileImage content="/icon/ms-icon-144x144.png"><meta name=theme-color content="#1D1E28"><meta name=twitter:card content="summary"><meta name=twitter:site content><meta name=twitter:creator content="berkslv"><meta property="og:locale" content="tr"><meta property="og:type" content="article"><meta property="og:title" content="HTTP ve MassTransit ile .NET Mikroservislerinde CorrelationId Takibi"><meta property="og:description" content=".NET microservice mimarisinde, HTTP ve RabbitMQ istekleriyle CorrelationId kullanarak daÄŸÄ±tÄ±k izlenebilirliÄŸi arttÄ±rdÄ±ÄŸÄ±mÄ±z bu yazÄ±da, CorrelationId deÄŸerinin farklÄ± servisler arasÄ±nda nasÄ±l gezdirileceÄŸini, Middleware ve Filter yapÄ±larÄ±yla gelen ve giden isteklerde header deÄŸerleri Ã¼zerinde nasÄ±l manipÃ¼lasyon yapÄ±lacaÄŸÄ±nÄ± ve Serilog'un LogContext yapÄ±sÄ±yla contextlerin loglanmasÄ±nÄ± keÅŸfedeceÄŸiz."><meta property="og:url" content="https://berkselvi.dev/tr/posts/correlationid-tracing-net-microservices-with-http-and-rabbitmq/"><meta property="og:site_name" content="Berk Selvi | Software Developer"><meta property="og:image" content="https://berkselvi.dev/img/correlationid-tracing-net-microservices-with-http-and-rabbitmq/cover.webp"><meta property="twitter:image" content="https://berkselvi.dev/img/correlationid-tracing-net-microservices-with-http-and-rabbitmq/cover.webp"><meta property="og:image:width" content="2048"><meta property="og:image:height" content="1024"><meta property="article:published_time" content="2024-07-14 00:00:00 +0300 +0300"><script async src="https://www.googletagmanager.com/gtag/js?id=G-W0L24EMSQ5"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-W0L24EMSQ5")</script><link href=https://berkselvi.dev/css/custom.css rel=stylesheet></head><body class=green><div class="container center headings--one-size"><header class=header><div class=header__inner><div class=menu-trigger><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-menu"><line x1="4" x2="20" y1="12" y2="12"/><line x1="4" x2="20" y1="6" y2="6"/><line x1="4" x2="20" y1="18" y2="18"/></svg></div></div><nav class=menu><ul class="menu__inner menu__inner--desktop"><li><a href=/tr>ana sayfa</a></li><div class=spacer></div><ul class=language-selector><ul class=language-selector-current><li>tÃ¼rkÃ§e â–¾</li></ul><ul class="language-selector__more hidden"><li><a href=https://berkselvi.dev/>english</a></li><li><a href=https://berkselvi.dev/tr/>tÃ¼rkÃ§e</a></li></ul></ul></ul><ul class="menu__inner menu__inner--mobile"><li><a href=/tr>ana sayfa</a></li><hr><li><a href=https://berkselvi.dev/>english</a></li><li><a href=https://berkselvi.dev/tr/>tÃ¼rkÃ§e</a></li></ul></nav></header><div class=content><div class=post><h4>Translations;</h4><a href=/posts/correlationid-tracing-net-microservices-with-http-and-rabbitmq/>CorrelationId Tracing in .NET Microservices with HTTP and MassTransit</a><h1 class=post-title><a href=https://berkselvi.dev/tr/posts/correlationid-tracing-net-microservices-with-http-and-rabbitmq/>HTTP ve MassTransit ile .NET Mikroservislerinde CorrelationId Takibi</a></h1><div class=post-meta><span class=post-date>14 Temmuz 2024
</span><span class=post-author>:: Berk Selvi</span>
<span class=post-reading-time>:: 7 min read (1426 words)</span></div><div class=post-content><div><p>Microservice mimarisinde daÄŸÄ±tÄ±k olarak Ã§alÄ±ÅŸan uygulamalarÄ±n kendi aralarÄ±nda yaptÄ±klarÄ± iletiÅŸimler sÄ±rasÄ±nda devam eden iÅŸlemin takip edilebilirliÄŸi ve eÄŸer bir serviste performans sebepli veya akÄ±ÅŸsal bir sorun varsa hangi adÄ±mlardan sonra buraya geldiÄŸini anlamlandÄ±rabilmek iÃ§in Distributed tracing baÅŸlÄ±ÄŸÄ± altÄ±nda CorrelationId Ã§ok Ã¶nemli bir yere sahiptir.</p><p>CorrelationId, bir isteÄŸin tÃ¼m yaÅŸam dÃ¶ngÃ¼sÃ¼ boyunca taÅŸÄ±narak, farklÄ± servisler arasÄ±ndaki baÄŸÄ±ntÄ±yÄ± saÄŸlamalÄ±dÄ±r. Bu yazÄ±da, .NET tabanlÄ± bir microservice mimarisinde HTTP ve RabbitMQ istekleri kullanarak CorrelationId deÄŸerinin nasÄ±l gezdirilebileceÄŸini inceleyeceÄŸiz. Bu Ã§Ã¶zÃ¼m sorunumuza net bir ÅŸekilde cevap olmak iÃ§in tasarlandÄ± ancak her tÃ¼rlÃ¼ yoruma ve geliÅŸtirmeye aÃ§Ä±ktÄ±r, eÄŸer aklÄ±nÄ±zda daha iyi bir Ã§Ã¶zÃ¼m gelirse lÃ¼tfen bana ulaÅŸÄ±n.</p><img src=/img/correlationid-tracing-net-microservices-with-http-and-rabbitmq/big-picture.png alt="Big picture" loading=lazy><p class=image-sub-title>Big picture</p><p>CorrelationId deÄŸerini HTTP ve MassTransit kullanarak servisler arasÄ±ndaki iletiÅŸim sÄ±rasÄ±nda Middleware ve Filter yapÄ±larÄ±yla gelen ve giden isteklerde araya girerek header deÄŸerleri Ã¼zerinde manipulasyonda bulunarak CorrelationId deÄŸerini servisler arasÄ±nda gezdireceÄŸiz. Bu gezdirme sÄ±rasÄ±ndada gelen isteklerle baÅŸlatÄ±lan contextlerin, verilen CorrelationId deÄŸeri ile loglanmasÄ± iÃ§in Serilog tarafÄ±ndan saÄŸlanan LogContext sÄ±nÄ±fÄ±ndan faydalanacaÄŸÄ±z. TÃ¼m Ã¶rneklere aÅŸaÄŸÄ±daki repodan ulaÅŸabilirsiniz.</p><p><a href=https://github.com/berkslv/lecture-correlation-id-microservices>GitHub - berkslv/lecture-correlation-id-microservices</a></p><p>Serivisimize gelen isteklerde aldÄ±ÄŸÄ±mÄ±z CorrelationId deÄŸerini, giden isteklerde gÃ¶ndermek iÃ§in Scoped olarak tanÄ±mlayabileceÄŸimiz Correlation sÄ±nÄ±fÄ±mÄ±zdan yararlanabiliriz. Ancak bu ÅŸekilde Dependency Injection yÃ¶ntemleri ile sÄ±nÄ±flar arasÄ±nda gezdirdiÄŸimiz state deÄŸerimiz async olarak ilerleyen isteÄŸimizde Ã¶zel bir durumda eriÅŸilemez oluyor: DelegatingHandler sÄ±nÄ±fÄ± kullanarak HttpClient ile yapacaÄŸÄ±mÄ±z isteklerde araya girecek olan <code>CorrelationHeaderHandler</code> sÄ±nÄ±fÄ±mÄ±z uygulamamÄ±zdan ayrÄ± bir DI scope iÃ§erisinde Ã§alÄ±ÅŸacaÄŸÄ± iÃ§in Scoped olarak tanÄ±mlayabileceÄŸimiz Correlation sÄ±nÄ±fÄ±mÄ±zÄ±n deÄŸerine bu Ã¶zel durumda eriÅŸemeyeceÄŸiz. Bu konu microsoft&rsquo;un kendi dÃ¶kÃ¼mantasyonundada ÅŸÃ¶yle aktarÄ±lÄ±yor</p><blockquote><p>When IHttpClientFactory creates a new delegating handler, it uses DI to fulfill the handler&rsquo;s constructor parameters. IHttpClientFactory creates a separate DI scope for each handler, which can lead to surprising behavior when a handler consumes a scoped service.</p></blockquote><p>Bu soruna Ã§Ã¶zÃ¼m olarak <code>AsyncStorage</code> isminde bir sÄ±nÄ±f oluÅŸturup Microsoft tarafÄ±ndan saÄŸlanan <code>AsyncLocal</code> sÄ±nÄ±fÄ±nÄ± kullanarak CorrelationId deÄŸerini async olarak ilerleyen isteÄŸimizde aynÄ± thread iÃ§erisinde dilediÄŸimiz zaman eriÅŸebileceÄŸimiz bir yapÄ± oluÅŸturacaÄŸÄ±z:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-csharp data-lang=csharp><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>namespace</span> Order.API.Filters.Correlation;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/// &lt;summary&gt;</span>
</span></span><span style=display:flex><span><span style=color:#75715e>/// Stores and retrieves values in an async context.</span>
</span></span><span style=display:flex><span><span style=color:#75715e>/// &lt;/summary&gt;</span>
</span></span><span style=display:flex><span><span style=color:#75715e>/// &lt;typeparam name=&#34;T&#34;&gt;What should be stored&lt;/typeparam&gt;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>AsyncStorage</span>&lt;T&gt; <span style=color:#66d9ef>where</span> T : <span style=color:#66d9ef>new</span>()
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>readonly</span> AsyncLocal&lt;T&gt; _asyncLocal = <span style=color:#66d9ef>new</span> AsyncLocal&lt;T&gt;();
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> T Store(T val)
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        _asyncLocal.Value = val;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> _asyncLocal.Value;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> T? Retrieve()
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> _asyncLocal.Value;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>AsyncStorage sÄ±nÄ±fÄ±na type olarak vereceÄŸimiz Correlation sÄ±nÄ±fÄ±nÄ±, aÅŸaÄŸÄ±daki gibi tanÄ±mlayarak Id property&rsquo;sinde CorrelationId deÄŸerini barÄ±ndÄ±racaÄŸÄ±z.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-csharp data-lang=csharp><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>namespace</span> Order.API.Filters.Correlation;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/// &lt;summary&gt;</span>
</span></span><span style=display:flex><span><span style=color:#75715e>/// It holds the CorrelationId value that comes with HTTP requests and events handled via MassTransit.</span>
</span></span><span style=display:flex><span><span style=color:#75715e>/// &lt;/summary&gt;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Correlation</span>
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> Guid Id { <span style=color:#66d9ef>get</span>; <span style=color:#66d9ef>init</span>; }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>CorrelationId deÄŸerini yapÄ±lan istek boyunca eriÅŸebileceÄŸimiz bir konumda sakladÄ±ÄŸÄ±mÄ±za gÃ¶re, ÅŸimdi gelen isteklerde araya girerek header&rsquo;lardan CorrelationId deÄŸerini Ã§ekelim. Microservice mimarisinde geliÅŸtirilen uygulamalarda servisler arasÄ±nda sadece HTTP deÄŸil, aynÄ± zamanda event tabanlÄ± yÃ¶ntemlerle iletiÅŸim kurulabiliyor. Ancak bu ÅŸekilde baÅŸlatÄ±lan isteklerde, CorrelationId deÄŸerini HTTP header&rsquo;larÄ±nda deÄŸil, MassTransit tarafÄ±ndan saÄŸlanan header deÄŸerlerinde taÅŸÄ±yacaÄŸÄ±z.</p><img src=/img/correlationid-tracing-net-microservices-with-http-and-rabbitmq/filters-for-correlationid.png alt="Filters for CorrelationId" loading=lazy><p class=image-sub-title>Filters for CorrelationId</p><h1 id=correlationmiddleware>CorrelationMiddleware<a href=#correlationmiddleware class=hanchor arialabel=Anchor>&#8983;</a></h1><p>Gelen HTTP isteklerinde araya girecek ve CorrelationId HTTP header&rsquo;Ä±ndan deÄŸeri alacak olan CorrelationMiddleware sÄ±nÄ±fÄ±mÄ±zÄ± aÅŸaÄŸÄ±daki gibi tanÄ±mlÄ±yoruz. EÄŸer headerda deÄŸer varsa ilk Ã¶nce Serilog tarafÄ±ndan saÄŸlanan <code>LogContext</code> sÄ±nÄ±fÄ±na bu deÄŸeri ayrÄ± bir field olarak koyarak bir nevi enrich iÅŸlemi yapÄ±yoruz. Daha sonra <code>AsyncStorage</code> sÄ±nÄ±fÄ±mÄ±za Correlation sÄ±nÄ±fÄ±nÄ± vererek CorrelationId deÄŸerini saklÄ±yoruz. Bu sayede gelen isteklerde CorrelationId deÄŸerini alÄ±p, giden isteklerde bu deÄŸeri kullanabileceÄŸiz.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-csharp data-lang=csharp><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>namespace</span> Order.API.Filters.Correlation;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/// &lt;summary&gt;</span>
</span></span><span style=display:flex><span><span style=color:#75715e>/// When the Http request is made, it takes the CorrelationId value from the HttpContext Header and sets the Correlation.Id value.</span>
</span></span><span style=display:flex><span><span style=color:#75715e>/// &lt;/summary&gt;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>CorrelationMiddleware</span>
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>readonly</span> RequestDelegate _next;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> CorrelationMiddleware(RequestDelegate next)
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        _next = next;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>async</span> Task InvokeAsync(HttpContext context, Correlation correlation)
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>var</span> correlationIdHeader = context.Request.Headers[<span style=color:#e6db74>&#34;CorrelationId&#34;</span>];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (!<span style=color:#66d9ef>string</span>.IsNullOrWhiteSpace(correlationIdHeader))
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>var</span> correlationId = Guid.Parse(correlationIdHeader.ToString());
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            LogContext.PushProperty(<span style=color:#e6db74>&#34;CorrelationId&#34;</span>, <span style=color:#66d9ef>new</span> ScalarValue(correlationId));
</span></span><span style=display:flex><span>            
</span></span><span style=display:flex><span>            AsyncStorage&lt;Correlation&gt;.Store(<span style=color:#66d9ef>new</span> Correlation
</span></span><span style=display:flex><span>            {
</span></span><span style=display:flex><span>                Id = correlationId
</span></span><span style=display:flex><span>            });
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>await</span> _next(context);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Bu middleware&rsquo;i uygulamamÄ±za eklemek iÃ§in Progam.cs iÃ§erisinde aÅŸaÄŸÄ±daki gibi dÃ¼zenliyoruz.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-csharp data-lang=csharp><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> builder = WebApplication.CreateBuilder(args);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>//...</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> app = builder.Build();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>app.UseMiddleware&lt;CorrelationMiddleware&gt;();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>//...</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>app.Run();
</span></span></code></pre></div><h1 id=correlationconsumefilter>CorrelationConsumeFilter<a href=#correlationconsumefilter class=hanchor arialabel=Anchor>&#8983;</a></h1><p>EÄŸer servisimize gelen istek HTTP deÄŸil, event ile tetiklenen bir istek ise ortada bir HTTP headerÄ± olmayacaktÄ±r. Bu sebeple MassTransit tarafÄ±ndan saÄŸlanan header deÄŸerlerinden CorrelationId deÄŸerini almak iÃ§in CorrelationConsumeFilter sÄ±nÄ±fÄ±mÄ±zÄ± aÅŸaÄŸÄ±daki gibi tanÄ±mlÄ±yoruz. Bu sÄ±nÄ±fÄ±mÄ±zda IConsumer ile imzalanan sÄ±nÄ±flarda consume iÅŸlemi gerÃ§ekleÅŸtirilmeden Ã¶nce, gelen eventlerde araya girerek CorrelationId deÄŸerini alÄ±p, <code>LogContext</code> ve <code>AsyncStorage&lt;Correlation></code> iÃ§erisine ekliyoruz.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-csharp data-lang=csharp><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>namespace</span> Order.API.Filters.Correlation;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/// &lt;summary&gt;</span>
</span></span><span style=display:flex><span><span style=color:#75715e>/// It is triggered when there is an event consumed by MassTransit and sets the CorrelationId value to the Correlation class.</span>
</span></span><span style=display:flex><span><span style=color:#75715e>/// &lt;/summary&gt;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>CorrelationConsumeFilter</span>&lt;T&gt; : IFilter&lt;ConsumeContext&lt;T&gt;&gt; <span style=color:#66d9ef>where</span> T : <span style=color:#66d9ef>class</span>
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> Task Send(ConsumeContext&lt;T&gt; context, IPipe&lt;ConsumeContext&lt;T&gt;&gt; next)
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>var</span> correlationIdHeader = context.CorrelationId;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (correlationIdHeader.HasValue)
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>var</span> correlationId = correlationIdHeader.Value;
</span></span><span style=display:flex><span>            
</span></span><span style=display:flex><span>            LogContext.PushProperty(<span style=color:#e6db74>&#34;CorrelationId&#34;</span>, <span style=color:#66d9ef>new</span> ScalarValue(correlationId));
</span></span><span style=display:flex><span>            
</span></span><span style=display:flex><span>            AsyncStorage&lt;Correlation&gt;.Store(<span style=color:#66d9ef>new</span> Correlation
</span></span><span style=display:flex><span>            {
</span></span><span style=display:flex><span>                Id = correlationId
</span></span><span style=display:flex><span>            });
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> next.Send(context);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> Probe(ProbeContext context)
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Bu ÅŸekilde gelen isteklerde <code>AsyncStorage&lt;Correlation></code> iÃ§erisinde tuttuÄŸumuz Correlation deÄŸerimizi, yapÄ±lacak olan event isteklerinde ilgili header alanlarÄ±na eklemek iÃ§in neler yapabileceÄŸimizi inceleyelim.</p><h1 id=correlationpublishfilter>CorrelationPublishFilter<a href=#correlationpublishfilter class=hanchor arialabel=Anchor>&#8983;</a></h1><p>MassTransit tarafÄ±ndan saÄŸlanan <code>IPublishEndpoint</code> ile publish edilen eventlerde araya girecek olan <code>CorrelationPublishFilter</code> sÄ±nÄ±fÄ±mÄ±zÄ± aÅŸaÄŸÄ±daki gibi tanÄ±mlÄ±yoruz. Bu sÄ±nÄ±fÄ±mÄ±z, publish edilen eventlerde araya girerek <code>AsyncStorage&lt;Correlation></code> iÃ§erisinden CorrelationId deÄŸerini alÄ±p, MassTransit&rsquo;in CorrelationId header deÄŸerine ekleyecektir.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-csharp data-lang=csharp><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>namespace</span> Order.API.Filters.Correlation;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/// &lt;summary&gt;</span>
</span></span><span style=display:flex><span><span style=color:#75715e>/// Sets the CorrelationId value of events published via MassTransit.</span>
</span></span><span style=display:flex><span><span style=color:#75715e>/// &lt;/summary&gt;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>CorrelationPublishFilter</span>&lt;T&gt; : IFilter&lt;PublishContext&lt;T&gt;&gt; <span style=color:#66d9ef>where</span> T : <span style=color:#66d9ef>class</span>
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> Task Send(PublishContext&lt;T&gt; context, IPipe&lt;PublishContext&lt;T&gt;&gt; next)
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>var</span> correlation = AsyncStorage&lt;Correlation&gt;.Retrieve();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (correlation <span style=color:#66d9ef>is</span> not <span style=color:#66d9ef>null</span>)
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>            context.CorrelationId = Guid.Parse(correlation.Id.ToString()!);
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> next.Send(context);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> Probe(ProbeContext context)
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h1 id=correlationsendfilter>CorrelationSendFilter<a href=#correlationsendfilter class=hanchor arialabel=Anchor>&#8983;</a></h1><p>EÄŸer MassTransit&rsquo;e gÃ¶nderilen event publish edilmemiÅŸ ve request/response yapÄ±sÄ± ile <code>IRequestClient&lt;T></code> kullanÄ±larak gÃ¶nderildiyse <code>CorrelationPublishFilter</code> deÄŸil <code>CorrelationSendFilter</code> sÄ±nÄ±fÄ±mÄ±z araya girecek. Bu sÄ±nÄ±fÄ±mÄ±zda send edilen eventlerde araya girerek <code>AsyncStorage&lt;Correlation></code> iÃ§ersinden CorrelationId deÄŸerini alÄ±p, MassTransit&rsquo;in CorrelationId header deÄŸerininin iÃ§erisine ekliyoruz.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-csharp data-lang=csharp><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>namespace</span> Order.API.Filters.Correlation;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/// &lt;summary&gt;</span>
</span></span><span style=display:flex><span><span style=color:#75715e>/// Sets the CorrelationId value of events sent via MassTransit.</span>
</span></span><span style=display:flex><span><span style=color:#75715e>/// &lt;/summary&gt;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>CorrelationSendFilter</span>&lt;T&gt; : IFilter&lt;SendContext&lt;T&gt;&gt; <span style=color:#66d9ef>where</span> T : <span style=color:#66d9ef>class</span>
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> Task Send(SendContext&lt;T&gt; context, IPipe&lt;SendContext&lt;T&gt;&gt; next)
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>var</span> correlation = AsyncStorage&lt;Correlation&gt;.Retrieve();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (correlation <span style=color:#66d9ef>is</span> not <span style=color:#66d9ef>null</span>)
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>            context.CorrelationId = Guid.Parse(correlation.Id.ToString());
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> next.Send(context);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> Probe(ProbeContext context)
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p><code>CorrelationConsumeFilter</code>, <code>CorrelationPublishFilter</code> ve <code>CorrelationSendFilter</code> sÄ±nÄ±flarÄ±mÄ±zÄ± uygulamamÄ±za eklemek iÃ§in aÅŸaÄŸÄ±daki gibi ConfigureServices sÄ±nÄ±fÄ±mÄ±zÄ± tanÄ±mlayÄ±p bu methodu Program.cs iÃ§erisinde kullanÄ±yoruz.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-csharp data-lang=csharp><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>ConfigureServices</span>
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> WebApplicationBuilder AddMassTransit(<span style=color:#66d9ef>this</span> WebApplicationBuilder builder, IConfiguration configuration)
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>var</span> messageBroker = builder.Configuration.GetSection(<span style=color:#e6db74>&#34;MessageBroker&#34;</span>);
</span></span><span style=display:flex><span>        builder.Services.AddMassTransit(cfg =&gt;
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>            cfg.SetKebabCaseEndpointNameFormatter();
</span></span><span style=display:flex><span>            
</span></span><span style=display:flex><span>            cfg.AddConsumers(Assembly.GetExecutingAssembly());
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            cfg.UsingRabbitMq((context, config) =&gt;
</span></span><span style=display:flex><span>            {
</span></span><span style=display:flex><span>                config.UseSendFilter(<span style=color:#66d9ef>typeof</span>(CorrelationSendFilter&lt;&gt;), context);
</span></span><span style=display:flex><span>                config.UsePublishFilter(<span style=color:#66d9ef>typeof</span>(CorrelationPublishFilter&lt;&gt;), context);
</span></span><span style=display:flex><span>                config.UseConsumeFilter(<span style=color:#66d9ef>typeof</span>(CorrelationConsumeFilter&lt;&gt;), context);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>                config.Host(messageBroker[<span style=color:#e6db74>&#34;Host&#34;</span>], messageBroker[<span style=color:#e6db74>&#34;VirtualHost&#34;</span>], h =&gt;
</span></span><span style=display:flex><span>                {
</span></span><span style=display:flex><span>                    h.Username(messageBroker[<span style=color:#e6db74>&#34;Username&#34;</span>]!);
</span></span><span style=display:flex><span>                    h.Password(messageBroker[<span style=color:#e6db74>&#34;Password&#34;</span>]!);
</span></span><span style=display:flex><span>                });
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>                config.ConfigureEndpoints(context);
</span></span><span style=display:flex><span>            });
</span></span><span style=display:flex><span>        });
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> builder;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-csharp data-lang=csharp><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> builder = WebApplication.CreateBuilder(args);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>builder.AddMassTransit(builder.Configuration);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// ...</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> app = builder.Build();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// ...</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>app.Run();
</span></span></code></pre></div><h1 id=correlationheaderhandler>CorrelationHeaderHandler<a href=#correlationheaderhandler class=hanchor arialabel=Anchor>&#8983;</a></h1><p>EÄŸer servisimizden yapÄ±lan istek event deÄŸil HTTP isteÄŸi ise <code>IHttpClientFactory</code> ile oluÅŸturacaÄŸÄ±mÄ±z HttpClient sÄ±nÄ±fÄ±mÄ±zdan yapacaÄŸÄ±mÄ±z isteklerde araya girecek olan <code>CorrelationHeaderHandler</code> sÄ±nÄ±fÄ±mÄ±zÄ± aÅŸaÄŸÄ±daki gibi tanÄ±mlÄ±yoruz. Bu sÄ±nÄ±fÄ±mÄ±zda uygulamamÄ±zdan yapÄ±lan HTTP isteklerinde araya girerek <code>AsyncStorage&lt;Correlation></code> iÃ§ersinden CorrelationId deÄŸerini alÄ±p, HTTP header olarak ekliyoruz.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-csharp data-lang=csharp><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/// &lt;summary&gt;</span>
</span></span><span style=display:flex><span><span style=color:#75715e>/// Middleware to be used in requests made with HttpClient. Adds the CorrelationId header to the requests made.</span>
</span></span><span style=display:flex><span><span style=color:#75715e>/// &lt;/summary&gt;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>CorrelationHeaderHandler</span> : DelegatingHandler
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>protected</span> <span style=color:#66d9ef>override</span> <span style=color:#66d9ef>async</span> Task&lt;HttpResponseMessage&gt; SendAsync(HttpRequestMessage request, CancellationToken cancellationToken)
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>var</span> correlation = AsyncStorage&lt;Correlation&gt;.Retrieve();
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (correlation <span style=color:#66d9ef>is</span> not <span style=color:#66d9ef>null</span>)
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>            request.Headers.Add(<span style=color:#e6db74>&#34;CorrelationId&#34;</span>, correlation.Id.ToString());
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>await</span> <span style=color:#66d9ef>base</span>.SendAsync(request, cancellationToken);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Bu middleware&rsquo;i uygulamamÄ±za eklemek iÃ§in Progam.cs iÃ§erisinde aÅŸaÄŸÄ±daki gibi Named Http Client tanÄ±mlayÄ±p <code>AddHttpMessageHandler</code> ile yapÄ±lacak isteklerde araya girecek olan middleware&rsquo;i ekliyoruz.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-csharp data-lang=csharp><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> builder = WebApplication.CreateBuilder(args);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>builder.Services.AddTransient&lt;CorrelationHeaderHandler&gt;();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>builder.Services.AddHttpClient(<span style=color:#e6db74>&#34;Inventory&#34;</span>, c =&gt;
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        c.BaseAddress = <span style=color:#66d9ef>new</span> Uri(<span style=color:#e6db74>&#34;http://localhost:5053&#34;</span>);
</span></span><span style=display:flex><span>    })
</span></span><span style=display:flex><span>    .AddHttpMessageHandler&lt;CorrelationHeaderHandler&gt;();;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// ...</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> app = builder.Build();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// ...</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>app.Run();
</span></span></code></pre></div><p>OluÅŸturduÄŸumuz Named Http Client iÃ§in kullanÄ±mÄ± aÅŸaÄŸÄ±daki gibi yapÄ±yoruz. Burada yapacaÄŸÄ±mÄ±z isteklerin async olmazsa middleware araya giremiyor.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-csharp data-lang=csharp><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>InventoryService</span> : IInventoryService
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>readonly</span> IHttpClientFactory _httpClientFactory;
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> InventoryService(IHttpClientFactory httpClientFactory)
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        _httpClientFactory = httpClientFactory;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>async</span> Task RemoveStockAsync(<span style=color:#66d9ef>string</span> productId, <span style=color:#66d9ef>int</span> quantity)
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>var</span> httpClient = _httpClientFactory.CreateClient(<span style=color:#e6db74>&#34;Inventory&#34;</span>);
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>var</span> response = <span style=color:#66d9ef>await</span> httpClient.PostAsync(<span style=color:#e6db74>$&#34;remove-stock/{productId}/{quantity}&#34;</span>, <span style=color:#66d9ef>null</span>);
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        response.EnsureSuccessStatusCode();
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Bu makalede, HTTP ve RabbitMQ kullanarak .NET microservice mimarisinde daÄŸÄ±tÄ±k izlenebilirliÄŸi artÄ±rmak iÃ§in CorrelationId&rsquo;yi nasÄ±l etkili bir ÅŸekilde kullanabileceÄŸimizi inceledik. Middleware ve Filter yapÄ±larÄ±ndan yararlanarak, farklÄ± servisler arasÄ±nda CorrelationId&rsquo;yi yayarak header deÄŸerlerini manipÃ¼le edebildik ve Serilog&rsquo;un LogContext framework&rsquo;Ã¼ ile kapsamlÄ± loglama ve izleme saÄŸladÄ±k.</p><p>CorrelationId&rsquo;yi hem HTTP isteklerinde hem de MassTransit tarafÄ±ndan saÄŸlanan event tabanlÄ± iletiÅŸimde nasÄ±l ele alacaÄŸÄ±mÄ±zÄ± gÃ¶sterdik. HTTP iÃ§in <code>CorrelationMiddleware</code> ve <code>CorrelationHeaderHandler</code> sÄ±nÄ±flarÄ±nÄ±; event tabanlÄ± iletiÅŸim iÃ§in ise <code>CorrelationConsumeFilter</code>, <code>CorrelationPublishFilter</code> ve <code>CorrelationSendFilter</code> sÄ±nÄ±flarÄ±nÄ± uygulayarak, CorrelationId&rsquo;nin bir isteÄŸin tÃ¼m yaÅŸam dÃ¶ngÃ¼sÃ¼ boyunca tutarlÄ± bir ÅŸekilde taÅŸÄ±nmasÄ±nÄ± saÄŸladÄ±k. Bu, iÅŸlem akÄ±ÅŸÄ±nÄ±n net bir ÅŸekilde izlenmesini saÄŸladÄ± ve performans veya akÄ±ÅŸ sorunlarÄ±nÄ± belirlemeye yardÄ±mcÄ± oldu.</p><p><code>AsyncLocal</code> sÄ±nÄ±fÄ±yla birlikte <code>AsyncStorage&lt;Correlation></code> kullanÄ±mÄ±, CorrelationId deÄŸerini farklÄ± kapsamlar arasÄ±nda saklamak ve almak iÃ§in gÃ¼venilir bir yol saÄŸladÄ± ve Dependency Injection ve asenkron iÅŸlemeyle ilgili zorluklarÄ± ele aldÄ±.</p><p>UmarÄ±m bu rehber, kendi microservice mimarinizde saÄŸlam bir daÄŸÄ±tÄ±k izleme Ã§Ã¶zÃ¼mÃ¼ uygulamanÄ±za yardÄ±mcÄ± olur. Daha detaylÄ± Ã¶rnekler iÃ§in, GitHub reposunu inceleyebilirsiniz:</p><p><a href=https://github.com/berkslv/lecture-correlation-id-microservices>GitHub - berkslv/lecture-correlation-id-microservices</a></p><h1 id=kaynaklar>Kaynaklar<a href=#kaynaklar class=hanchor arialabel=Anchor>&#8983;</a></h1><p>AsyncLocal sÄ±nÄ±fnÄ±n doÄŸru kullanÄ±mÄ± iÃ§in yararlandÄ±ÄŸÄ±m kaynak:</p><p><a href=https://medium.com/@mbearz/how-to-log-everything-using-middleware-and-httpclient-handler-42b8f628fe84>https://medium.com/@mbearz/how-to-log-everything-using-middleware-and-httpclient-handler-42b8f628fe84</a></p><hr><h2 id=sonuÃ§>SonuÃ§<a href=#sonuÃ§ class=hanchor arialabel=Anchor>&#8983;</a></h2><p>OkuduÄŸunuz iÃ§in teÅŸekkÃ¼rler! ğŸ‰ YazÄ±lÄ±m geliÅŸtirme alanÄ±ndaki araÅŸtÄ±rmalarÄ±mÄ± kaÃ§Ä±rmamak iÃ§in <a href=https://x.com/berkslv>@berkslv</a> adresinden takipte kalabilirsiniz.</p></div></div><div class=pagination><div class=pagination__title><span class=pagination__title-h></span><hr></div><div class=pagination__buttons><span class="button previous"><a href=https://berkselvi.dev/tr/posts/do-you-need-other-services-data-in-microservice-architecture-event-driven-architecture/><span class=button__icon>â†</span>
<span class=button__text>Event-Driven Architecture: Mikroservis mimarisinde baÅŸka servislerin verilerine mi ihtiyacÄ±nÄ±z var</span>
</a></span><span class="button next"><a href=https://berkselvi.dev/tr/posts/api-gateway-alternatives-from-a-net-developer-standpoint/><span class=button__text>.NET GeliÅŸtiricisi Perspektifinden API Gateway Alternatifleri: YARP, Ocelot, Kong, APISIX ve KrakenD</span>
<span class=button__icon>â†’</span></a></span></div></div><script src=https://utteranc.es/client.js repo=berkslv/berkselvi.dev issue-term=title theme=dark-blue crossorigin=anonymous async></script></div></div><footer class=footer><div class=footer__inner><div class="copyright copyright--user"><span>Made by Berk Selvi.<br>Bu websitesi <a href=https://github.com/berkslv/berkselvi.dev target=_blank>open source</a> olarak yayÄ±nlanmÄ±ÅŸtÄ±r.</span></div></div></footer><script src=https://berkselvi.dev/assets/main.js></script><script src=https://berkselvi.dev/assets/prism.js></script><script src=https://berkselvi.dev/assets/languageSelector.js></script></div></body></html>